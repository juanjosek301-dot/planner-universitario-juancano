<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UPlanner - Chat</title>
  <link rel="stylesheet" href="../css/interaccion_estudiante_profesor.css" />
</head>
<body>3
  <div class="chat-layout">
    <!-- üîπ Sidebar izquierda -->
    <aside class="chat-sidebar">
      <div class="usuario-info">
        <p id="nombre-usuario">Juan P√©rez</p>
        <p id="institucion-usuario">Universidad de Medell√≠n</p>
      </div>
      <nav>
        <ul>
          <img src="../../public/images/firma_universidad.png" alt="Universidad de Medell√≠n" class="logo-universidad" />
          <li><a href="#">Asistente Virtual</a></li>
        </ul>
      </nav>
    </aside>

    <!-- üî∏ Panel de conversaciones -->
    <section class="chat-conversaciones">
      <h2>Conversaciones</h2>
      <ul id="lista-conversaciones">
        <!-- Conversaciones cargadas din√°micamente -->
      </ul>
    </section>

    <!-- üó®Ô∏è Panel de chat activo -->
    <section class="chat-mensajes">
      <div class="chat-header">
        <h2 id="nombre-chat">Docente</h2>
      </div>
      <div id="chat-historial" class="chat-historial">
        <!-- Mensajes renderizados din√°micamente -->
      </div>
      <form id="form-chat" class="chat-form">
        <input type="text" id="input-mensaje" placeholder="Escribe tu mensaje..." autocomplete="off" />
        <button type="submit">Enviar</button>
      </form>
    </section>
  </div>

  <script src="../js/chat.js" type="module"></script>
</body>
</html>


<script>
document.addEventListener("DOMContentLoaded", () => {
  const chatMensajes = document.getElementById("chat-mensajes");
  const mensajeInput = document.getElementById("mensaje-input");
  const btnEnviar = document.getElementById("enviar-mensaje");

  // Array local para almacenar mensajes
  let mensajes = [];

  // Funci√≥n para renderizar mensajes
  function renderMensajes() {
    chatMensajes.innerHTML = "";
    mensajes.forEach(msg => {
      const div = document.createElement("div");
      div.textContent = `${msg.remitente}: ${msg.texto}`;
      div.className = msg.remitente === "Profesor" ? "mensaje-profesor" : "mensaje-estudiante";
      chatMensajes.appendChild(div);
    });
    chatMensajes.scrollTop = chatMensajes.scrollHeight;
  }

  // Enviar mensaje
  btnEnviar.addEventListener("click", () => {
    const texto = mensajeInput.value.trim();
    if (!texto) return;

    // A√±adir mensaje del profesor
    mensajes.push({ remitente: "Profesor", texto });
    renderMensajes();
    mensajeInput.value = "";
  });

  // Render inicial
  renderMensajes();
});
</script>
